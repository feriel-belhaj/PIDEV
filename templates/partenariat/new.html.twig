{% extends 'base.html.twig' %}

{% block title %}Ajouter un Partenariat{% endblock %}

{% block body %}
<div class="container mt-5 text-center">
    <div class="p-5 bg-light rounded contact-form position-relative">
        
        <!-- Croix pour annuler -->
        <a href="{{ path('app_partenariat_index') }}" class="position-absolute top-0 end-0 m-3 text-danger" style="font-size: 24px; text-decoration: none;">&times;</a>
        
        <h3 class="display-5 mb-0">Ajouter un Partenariat</h3>

        {{ form_start(form, {'attr': {'id': 'partenariatForm', 'enctype': 'multipart/form-data', 'novalidate': 'novalidate'}}) }}

        <div class="mb-3 text-start">
            {{ form_label(form.nom, null, {'attr': {'class': form.nom.vars.errors|length > 0 ? 'text-danger' : ''}}) }}
            {{ form_widget(form.nom, {'attr': {'class': 'w-100 form-control p-3 mb-4 border-primary bg-light ' ~ (form.nom.vars.errors|length > 0 ? 'is-invalid' : '')}}) }}
            {% if form.nom.vars.errors|length > 0 %}
                <div class="text-danger mb-2">{{ form_errors(form.nom) }}</div>
            {% endif %}
        </div>

        <div class="mb-3 text-start">
            {{ form_label(form.type, null, {'attr': {'class': form.type.vars.errors|length > 0 ? 'text-danger' : ''}}) }}
            {{ form_widget(form.type, {'attr': {'class': 'w-100 form-control p-3 mb-4 border-primary bg-light ' ~ (form.type.vars.errors|length > 0 ? 'is-invalid' : '')}}) }}
            {% if form.type.vars.errors|length > 0 %}
                <div class="text-danger mb-2">{{ form_errors(form.type) }}</div>
            {% endif %}
        </div>

        <div class="mb-3 text-start">
            {{ form_label(form.description, null, {'attr': {'class': form.description.vars.errors|length > 0 ? 'text-danger' : ''}}) }}
            {{ form_widget(form.description, {'attr': {'class': 'w-100 form-control p-3 mb-4 border-primary bg-light ' ~ (form.description.vars.errors|length > 0 ? 'is-invalid' : '')}}) }}
            {% if form.description.vars.errors|length > 0 %}
                <div class="text-danger mb-2">{{ form_errors(form.description) }}</div>
            {% endif %}
        </div>

        <div class="mb-3 text-start">
            {{ form_label(form.dateDebut, null, {'attr': {'class': form.dateDebut.vars.errors|length > 0 ? 'text-danger' : ''}}) }}
            {{ form_widget(form.dateDebut, {'attr': {'class': 'w-100 form-control p-3 mb-4 border-primary bg-light ' ~ (form.dateDebut.vars.errors|length > 0 ? 'is-invalid' : '')}}) }}
            {% if form.dateDebut.vars.errors|length > 0 %}
                <div class="text-danger mb-2">{{ form_errors(form.dateDebut) }}</div>
            {% endif %}
        </div>

        <div class="mb-3 text-start">
            {{ form_label(form.dateFin, null, {'attr': {'class': form.dateFin.vars.errors|length > 0 ? 'text-danger' : ''}}) }}
            {{ form_widget(form.dateFin, {'attr': {'class': 'w-100 form-control p-3 mb-4 border-primary bg-light ' ~ (form.dateFin.vars.errors|length > 0 ? 'is-invalid' : '')}}) }}
            {% if form.dateFin.vars.errors|length > 0 %}
                <div class="text-danger mb-2">{{ form_errors(form.dateFin) }}</div>
            {% endif %}
        </div>

        <div class="mb-3 text-start">
            {{ form_label(form.statut, null, {'attr': {'class': form.statut.vars.errors|length > 0 ? 'text-danger' : ''}}) }}
            {{ form_widget(form.statut, {'attr': {'class': 'w-100 form-control p-3 mb-4 border-primary bg-light ' ~ (form.statut.vars.errors|length > 0 ? 'is-invalid' : '')}}) }}
            {% if form.statut.vars.errors|length > 0 %}
                <div class="text-danger mb-2">{{ form_errors(form.statut) }}</div>
            {% endif %}
        </div>

        <div class="mb-3 text-start">
            {{ form_label(form.image, null, {'attr': {'class': form.image.vars.errors|length > 0 ? 'text-danger' : ''}}) }}
            {{ form_widget(form.image, {'attr': {'class': 'w-100 form-control p-3 mb-4 border-primary bg-light ' ~ (form.image.vars.errors|length > 0 ? 'is-invalid' : '')}}) }}
            {% if form.image.vars.errors|length > 0 %}
                <div class="text-danger mb-2">{{ form_errors(form.image) }}</div>
            {% endif %}
        </div>

        <button type="submit" class="btn btn-primary border-0 rounded-pill py-3 px-5 me-3 animated bounceInLeft" style="font-family: 'Open Sans', sans-serif;">Ajouter</button>

        {{ form_end(form) }}
        
    </div>
</div>

<style>
    /* Alignement du texte à gauche pour les labels */
    .text-start label {
        font-weight: bold;
    }

    /* Messages d'erreur */
    .text-danger {
        font-size: 14px;
        font-weight: bold;
    }

    /* Bordure rouge des champs invalides */
    .is-invalid {
        border-color: red !important;
    }

    /* Réduction du bouton Ajouter */
    .btn-warning {
        font-size: 25px;
    }
</style>

{% endblock %}
