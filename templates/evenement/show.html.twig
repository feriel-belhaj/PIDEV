{% extends 'base.html.twig' %}

{% block title %}Evenement{% endblock %}

{% block body %}
<<<<<<< Updated upstream
    <h1>Evenement</h1>
=======
<!-- Project Header -->
<div class="container-fluid bg-light py-5">
    <div class="container">
        <div class="row">
            <!-- Project Image -->
            <div class="col-md-8">
                {% if evenement.imageurl %}
                    <img src="{{ asset('uploads/images/' ~ evenement.imageurl) }}" class="img-fluid rounded shadow" alt="{{ evenement.titre }}">
                {% else %}
                    <img src="{{ asset('img/event-default.jpg') }}" class="img-fluid rounded shadow" alt="{{ evenement.titre }}">
                {% endif %}
            </div>
            
            <!-- Project Info -->
            <div class="col-md-4">
                <div class="card border-0 shadow-sm">
                    <div class="card-body">
                        <h1 class="h2 mb-4">{{ evenement.titre }}</h1>
                        
                        <!-- Progress Section -->
                        <div class="progress mb-3" style="height: 8px;">
                            {% set progress = (evenement.collectedamount / evenement.goalamount * 100)|round %}
                            <div class="progress-bar bg-success" role="progressbar" style="width: {{ progress }}%"></div>
                        </div>
                        
                        <div class="mb-4">
                            <h2 class="h1 mb-0">{{ evenement.collectedamount|number_format(0, ',', ' ') }} €</h2>
                            <p class="text-muted">collectés sur {{ evenement.goalamount|number_format(0, ',', ' ') }} €</p>
                            
                            <div class="d-flex justify-content-between mb-3">
                                <div>
                                    <h4 class="mb-0">{{ progress }}%</h4>
                                    <small class="text-muted">financé</small>
                                </div>
                                <div>
                                    {% set daysLeft = date(evenement.enddate).diff(date()).days %}
                                    <h4 class="mb-0">{{ daysLeft }}</h4>
                                    <small class="text-muted">jours restants</small>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Donation Button -->
                        <div class="d-grid gap-2 mb-4">
                            <a href="{{ path('app_don_new', {'id': evenement.id}) }}" class="btn btn-primary btn-lg">
                                <i class="fas fa-heart me-2"></i>Faire un don
                            </a>
                        </div>
                        
                        <!-- Creator Info -->
                        <div class="d-flex align-items-center mb-4">
                            <img src="{{ asset('uploads/' ~ evenement.createur.image) }}" class="rounded-circle me-3" width="50" height="50" alt="Creator">
                            <div>
                                <h5 class="mb-0">{{ evenement.createur.prenom ?? 'Anonymous' }}</h5>
                                <p class="text-muted mb-0">{{ evenement.localisation }}</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
>>>>>>> Stashed changes

    <table class="table">
        <tbody>
            <tr>
                <th>Id</th>
                <td>{{ evenement.id }}</td>
            </tr>
            <tr>
                <th>Titre</th>
                <td>{{ evenement.titre }}</td>
            </tr>
            <tr>
                <th>Description</th>
                <td>{{ evenement.description }}</td>
            </tr>
            <tr>
                <th>Startdate</th>
                <td>{{ evenement.startdate ? evenement.startdate|date('Y-m-d H:i:s') : '' }}</td>
            </tr>
            <tr>
                <th>Enddate</th>
                <td>{{ evenement.enddate ? evenement.enddate|date('Y-m-d H:i:s') : '' }}</td>
            </tr>
            <tr>
                <th>Localisation</th>
                <td>{{ evenement.localisation }}</td>
            </tr>
            <tr>
                <th>Goalamount</th>
                <td>{{ evenement.goalamount }}</td>
            </tr>
            <tr>
                <th>Collectedamount</th>
                <td>{{ evenement.collectedamount }}</td>
            </tr>
            <tr>
                <th>Status</th>
                <td>{{ evenement.status }}</td>
            </tr>
            <tr>
                <th>Imageurl</th>
                <td>{{ evenement.imageurl }}</td>
            </tr>
            <tr>
                <th>Createdat</th>
                <td>{{ evenement.createdat ? evenement.createdat|date('Y-m-d H:i:s') : '' }}</td>
            </tr>
        </tbody>
    </table>

    <a href="{{ path('app_evenement_index') }}">back to list</a>

    <a href="{{ path('app_evenement_edit', {'id': evenement.id}) }}">edit</a>

    {{ include('evenement/_delete_form.html.twig') }}
{% endblock %}
